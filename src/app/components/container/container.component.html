<div
  [class.flex]="getPropValue(PropertyName.visible)"
  [class.flex-row]="getPropValue(PropertyName.row)"
  [class.flex-column]="getPropValue(PropertyName.column)"
  [class.flex-wrap]="getPropValue(PropertyName.wrap)"
  [class.justify-content-start]="getPropValue(PropertyName.justifyContentStart)"
  [class.justify-content-center]="getPropValue(PropertyName.justifyContentCenter)"
  [class.justify-content-end]="getPropValue(PropertyName.justifyContentEnd)"
  [class.justify-content-evenly]="getPropValue(PropertyName.justifyContentEvenly)"
  [class.justify-content-around]="getPropValue(PropertyName.justifyContentAround)"
  [class.justify-content-between]="getPropValue(PropertyName.justifyContentBetween)"
  [class.align-items-start]="getPropValue(PropertyName.alignItemsStart)"
  [class.align-items-center]="getPropValue(PropertyName.alignItemsCenter)"
  [class.align-items-end]="getPropValue(PropertyName.alignItemsEnd)"
  [class.align-items-stretch]="getPropValue(PropertyName.alignItemsStretch)"
  [class.align-content-start]="getPropValue(PropertyName.alignContentStart)"
  [class.align-content-center]="getPropValue(PropertyName.alignContentCenter)"
  [class.align-content-end]="getPropValue(PropertyName.alignContentEnd)"
  [class.align-content-evenly]="getPropValue(PropertyName.alignContentEvenly)"
  [class.align-content-around]="getPropValue(PropertyName.alignContentAround)"
  [class.align-content-between]="getPropValue(PropertyName.alignContentBetween)"
  [class.overflow-hidden]="getPropValue(PropertyName.overflowHidden)"
  [class.overflow-x-hidden]="getPropValue(PropertyName.overflowXHidden)"
  [class.overflow-auto]="getPropValue(PropertyName.overflowAuto)"
  [class.overflow-x-auto]="getPropValue(PropertyName.overflowXAuto)"
  [class.overflow-scroll]="getPropValue(PropertyName.overflowScroll)"
  [class.overflow-x-scroll]="getPropValue(PropertyName.overflowXScroll)"

  [class.displayNone]="!getPropValue(PropertyName.visible) && !getPropValue(PropertyName.holdSpace)"

  [class.visibilityHidden]="!getPropValue(PropertyName.visible) && getPropValue(PropertyName.holdSpace)"
  [style.height]="getPropValue(PropertyName.height)"
  [style.width]="getPropValue(PropertyName.width)"
  [class.bg-primary]="getPropValue(PropertyName.backgroundColorPrimary)"
  [class.bg-white]="getPropValue(PropertyName.backgroundColorWhite)"
  [class.bg-orange-400]="getPropValue(PropertyName.backgroundColorDanger)"
  [class.calcHeight]="setCalculatedHeight(getPropValue(PropertyName.calcHeight))"
  [class.calcWidth]="setCalculatedWidth(getPropValue(PropertyName.calcWidth))"
#container>
  <ng-content></ng-content>
  <ng-container *ngIf="getPropValue(PropertyName.children)">
    <ng-container *ngFor="let child of getPropValue(PropertyName.children)">
      <!--
      TODO
          Bij form in config moet overflow nog opgezet worden
      -->
      <div
        *ngIf="(getPropValue(PropertyName.dataAttribute) && !getPropValue(PropertyName.dataAttribute)['floatLabel'])
        ||child.type !== componentType.Label
        ||(child.type === componentType.Label && !getPropValue(PropertyName.dataAttribute))"
        [class.visibilityHidden]="
      (child.type !== componentType.Container) &&
      !(bindToStateProperty(child.name,'visible') | async)
      && (bindToStateProperty(child.name,'holdSpace') | async) "

        [class.displayNone]="(child.type !== componentType.Container)
      &&!(bindToStateProperty(child.name,'visible') | async)
      && !(bindToStateProperty(child.name,'holdSpace') | async)"

        [style.height]="(child.type !== componentType.Container) ? (bindToStateProperty(child.name,'height') | async) : ''"
        [style.width]="(child.type !== componentType.Container) ? (bindToStateProperty(child.name,'width') | async) : ''"
        [class.align-self-stretch]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'alignSelfStretch')|async)"
        [class.overflow-hidden]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'overflowHidden')|async)"
        [class.overflow-x-hidden]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'overflowXHidden')|async)"
        [class.overflow-auto]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'overflowAuto')|async)"
        [class.overflow-x-auto]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'overflowXAuto')|async)"
        [class.overflow-scroll]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'overflowScroll')|async)"
        [class.overflow-x-scroll]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'overflowXScroll')|async)"
        [class]="[
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
        [class.flex]="(child.type === componentType.Form)"
        [ngSwitch]="child.type">
        <m-block       [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                       [style.height]="'100%'"
                       [style.width]="'100%'"
                       [data]="data"
                       *ngSwitchCase="componentType.Block"
                       [name]="child.name"></m-block>
        <!-- todo voeg hier ook een ngFor aan toe zodat de config vereenvoudigd kan worden-->
        <m-formcontrol       [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                             *ngSwitchCase="componentType.FormControl"
                             [data]="data"
                             [name]="child.name"></m-formcontrol>
        <ng-container *ngSwitchCase="componentType.Label">
          <!-- todo nagaan of automatische hoogte en breedte van 100% wel wenselijk is-->
          <m-label *ngIf="!getPropValue(PropertyName.dataAttribute)['floatLabel'] && getPropValue(PropertyName.dataAttribute)['floatLabel'] !== NoValueType.NA"
                   [text]="(getPropValue(PropertyName.dataAttribute)?.label !== NoValueType.DBI)
        && (getPropValue(PropertyName.dataAttribute)?.label !== NoValueType.NA)
        ? getPropValue(PropertyName.dataAttribute)?.label
        : getPropValue(PropertyName.dataAttribute)?.name"
                   [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                   [style.height]="'100%'"
                   [style.width]="'100%'"
                   [data]="data"
          ></m-label>
        </ng-container>
        <ng-container *ngSwitchCase="componentType.TextInput">
          <m-input-text *ngIf="nameFormControl && getPropValue(PropertyName.dataAttribute)?.text"
                        [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                        [style.height]="'100%'"
                        [style.width]="'100%'"
                        [data]="data"
                        [name]="child.name"
                        [updateKey]="nameFormControl"
                        [value]="getPropValue(PropertyName.dataAttribute)?.text?.value === NoValueType.NVY
                       || getPropValue(PropertyName.dataAttribute)?.text?.value === NoValueType.NA  ? undefined : getPropValue(PropertyName.dataAttribute)?.text?.value"
                        [icon]="getIconType(getPropValue(PropertyName.dataAttribute)?.text?.icon)"
                        [iconPosition]="getPropValue(PropertyName.dataAttribute)?.text['iconPosition']"
                        [advisoryText]="getPropValue(PropertyName.dataAttribute)['advisoryText']"
                        [keyFilter]="
                      getPropValue(PropertyName.dataAttribute)?.text?.only === RestrictionType.Alphanumeric ? 'alphanum' :
                      getPropValue(PropertyName.dataAttribute)?.text?.only === RestrictionType.Hex ? 'hex' :
                      getPropValue(PropertyName.dataAttribute)?.text?.only === RestrictionType.Alphabetic ? 'alpha' :
                      getPropValue(PropertyName.dataAttribute)?.text?.only === RestrictionType.Integer ? 'int' :
                      getPropValue(PropertyName.dataAttribute)?.text?.only === RestrictionType.Money ? 'money' :
                      getPropValue(PropertyName.dataAttribute)?.text?.only === RestrictionType.Number ? 'number' :
                      getPropValue(PropertyName.dataAttribute)?.text?.only === RestrictionType.Custom
                      ? (getPropValue(PropertyName.dataAttribute)?.text['customRestriction'] !== RestrictionType.NA ?
                      getPropValue(PropertyName.dataAttribute)?.text['customRestriction'] : undefined) : undefined"
                        [label]="replaceUndefinedWithString(getPropValue(PropertyName.dataAttribute)?.label)"
                        [floatLabel]="getPropValue(PropertyName.dataAttribute)['floatLabel'] === NoValueType.NA
                        ? false : getPropValue(PropertyName.dataAttribute)['floatLabel']"
                        [dirty]="false"
                        [invalid]="false"
                        [small]="getPropValue(PropertyName.dataAttribute)?.text['inputFontSize']===InputFontSizeType.Small"
                        [large]="getPropValue(PropertyName.dataAttribute)?.text['inputFontSize']===InputFontSizeType.Large"
                        [disabled]="replaceWithBooleanOrUndefined(getPropValue(PropertyName.dataAttribute)?.disabled)"
                        [conceptId]="getPropValue(PropertyName.dataConcept)['conceptData']?.id"
          ></m-input-text>
        </ng-container>
        <ng-container *ngSwitchCase="componentType.NumberInput">
          <m-input-number
            *ngIf="nameFormControl && getPropValue(PropertyName.dataAttribute)?.number"
            [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
            [style.height]="'100%'"
            [style.width]="'100%'"
            [data]="data"
            [name]="child.name"
            [updateKey]="nameFormControl"
            [value]="getPropValue(PropertyName.dataAttribute)?.number?.value === NoValueType.NVY
            || getPropValue(PropertyName.dataAttribute)?.number?.value === NoValueType.NA ? undefined : getPropValue(PropertyName.dataAttribute)?.number?.value"
            [advisoryText]="getPropValue(PropertyName.dataAttribute)['advisoryText']"
            [label]="replaceWithStringOrUndefined(getPropValue(PropertyName.dataAttribute)?.label)"
            [floatLabel]="getPropValue(PropertyName.dataAttribute)['floatLabel'] === NoValueType.NA ? false : getPropValue(PropertyName.dataAttribute)['floatLabel']"
            [dirty]="false"
            [invalid]="false"
            [disabled]="replaceWithBooleanOrUndefined(getPropValue(PropertyName.dataAttribute)?.disabled)"
            [useGrouping]="getPropValue(PropertyName.dataAttribute)?.number?.useGrouping"
            [mode]="getPropValue(PropertyName.dataAttribute)?.number?.mode"
            [suffix]="getPropValue(PropertyName.dataAttribute)?.number?.suffix"
            [prefix]="replaceWithStringOrUndefined(getPropValue(PropertyName.dataAttribute)?.number?.prefix)"
            [locale]="getPropValue(PropertyName.dataAttribute)?.number?.locale"
            [currency]="getPropValue(PropertyName.dataAttribute)?.number?.currency"
            [currencyDisplay]="getPropValue(PropertyName.dataAttribute)?.number?.currencyDisplay"
            [minFractionDigits]="getPropValue(PropertyName.dataAttribute)?.number['minFractionDigits']"
            [maxFractionDigits]="getPropValue(PropertyName.dataAttribute)?.number['maxFractionDigits']"
            [min]="replaceWithNumberOrUndefined(getPropValue(PropertyName.dataAttribute)?.number?.min)"
            [max]="getPropValue(PropertyName.dataAttribute)?.number?.max"
            [showButtons]="getPropValue(PropertyName.dataAttribute)?.number['showButtons']"
            [step]="replaceWithNumberOrUndefined(getPropValue(PropertyName.dataAttribute)?.number?.step)"
            [incrementButtonIcon]="getPropValue(PropertyName.dataAttribute)?.number['incrementButtonIcon']"
            [decrementButtonIcon]="getPropValue(PropertyName.dataAttribute)?.number['decrementButtonIcon']"
            [decrementButtonClass]="getPropValue(PropertyName.dataAttribute)?.number['decrementButtonClass']"
            [incrementButtonClass]="getPropValue(PropertyName.dataAttribute)?.number['incrementButtonClass']"
            [buttonLayout]="getPropValue(PropertyName.dataAttribute)?.number['buttonLayout']"
          ></m-input-number>
        </ng-container>
        <ng-container *ngSwitchCase="componentType.MultiSelect">
          <m-multiselect
            *ngIf="nameFormControl && getPropValue(PropertyName.dataAttribute)['multiselect']"
            [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
            [name]="child.name"
            [data]="data"
            [updateKey]="nameFormControl"
            [options]="getPropValue(PropertyName.dataAttribute)['multiselect']?.options"
            [selectedOptions]="getPropValue(PropertyName.dataAttribute)['multiselect']['selectedOptions']"
            [optionLabel]="getPropValue(PropertyName.dataAttribute)['multiselect']['optionLabel']"
            [dirty]="false"
            [invalid]="false"
            [disabled]="replaceWithBooleanOrUndefined(getPropValue(PropertyName.dataAttribute)?.disabled)"
          ></m-multiselect>
        </ng-container>
        <ng-container *ngSwitchCase="componentType.DateInput">
          <m-date *ngIf="getPropValue(PropertyName.dataLink)"  [name]="getPropValue(PropertyName.dataLink).join('_')"
                  [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                  [style.height]="'100%'"
                  [style.width]="'100%'"
                  [data]="data"
          ></m-date>
        </ng-container>
        <!--      [name]="dataLink?.join('_')"-->
        <ng-container *ngSwitchCase="componentType.RadioButton">
          <m-radio [name]="child.name"
                   [values]="getValues()"
                   [selectedValue]="getPropValue(PropertyName.dataAttribute)['radio']?.value"
                   [conceptName]="getPropValue(PropertyName.dataAttribute)['radio']['conceptName']"
                   [dataName]="nameFormControl"
                   [data]="data"
                   [dirty]="false"
                   [invalid]="false"
                   [disabled]="replaceWithBooleanOrUndefined(getPropValue(PropertyName.dataAttribute)?.disabled)"
                   [class]="['flex',
           'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
           'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
          ></m-radio>
        </ng-container>
        <m-button       [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                        [style.height]="'100%'"
                        [style.width]="'100%'"
                        [data]="data"
                        *ngSwitchCase="componentType.Button"
                        [name]="child.name"></m-button>
        <m-dialog       [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                        [style.height]="'100%'"
                        [style.width]="'100%'"
                        [data]="data"
                        *ngSwitchCase="componentType.Dialog"
                        [name]="child.name"></m-dialog>
        <m-icon       [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                        [style.height]="'100%'"
                        [style.width]="'100%'"
                        [data]="data"
                        *ngSwitchCase="componentType.Icon"
                        [name]="child.name"></m-icon>
        <m-image          [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                          [style.height]="'100%'"
                          [style.width]="'100%'"
                          [data]="data"
                          *ngSwitchCase="componentType.Image"
                          [name]="child.name"></m-image>
        <m-image2         [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                          [style.height]="'100%'"
                          [style.width]="'100%'"
                          [data]="data"
                          *ngSwitchCase="componentType.Image2"
                          [name]="child.name"></m-image2>
        <m-menubar          [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                            *ngSwitchCase="componentType.Menubar"
                            [name]="child.name"
                            [data]="data"></m-menubar>
        <m-logo          [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                         [style.height]="'100%'"
                         [style.width]="'100%'"
                         *ngSwitchCase="componentType.Logo"
                         [data]="data"
                         [name]="child.name"></m-logo>
        <m-form          [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                         *ngSwitchCase="componentType.Form"
                         [name]="child.name"
                         [conceptId]="'64aea3efb786c36de52c7cfd'"
                         [style.height]="'100%'"
                         [style.width]="'100%'"
                         [data]="data"
       ></m-form>
        <ng-container *ngSwitchCase="componentType.Table">
          <m-table          [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                            [name]="child.name"
                            [style.height]="'100%'"
                            [style.width]="'100%'"
                            [data]="data"
          ></m-table>
        </ng-container>
        <m-container *ngSwitchCase="componentType.Container" [name]="child.name"  [class]="[
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                     [data]="data"
        ></m-container>
      </div>
    </ng-container>
  </ng-container>
</div>
