<div
  [class.flex]="(visible$ | async)"
  [class.flex-row]="(row$|async)"
  [class.flex-column]="(column$|async)"
  [class.flex-wrap]="(wrap$|async)"
  [class.justify-content-start]="(justifyContentStart$|async)"
  [class.justify-content-center]="(justifyContentCenter$|async)"
  [class.justify-content-end]="(justifyContentEnd$|async)"
  [class.justify-content-evenly]="(justifyContentEvenly$|async)"
  [class.justify-content-around]="(justifyContentAround$|async)"
  [class.justify-content-between]="(justifyContentBetween$|async)"
  [class.align-items-start]="(alignItemsStart$|async)"
  [class.align-items-center]="(alignItemsCenter$|async)"
  [class.align-items-end]="(alignItemsEnd$|async)"
  [class.align-items-stretch]="(alignItemsStretch$|async)"
  [class.align-content-start]="(alignContentStart$|async)"
  [class.align-content-center]="(alignContentCenter$|async)"
  [class.align-content-end]="(alignContentEnd$|async)"
  [class.align-content-evenly]="(alignContentEvenly$|async)"
  [class.align-content-around]="(alignContentAround$|async)"
  [class.align-content-between]="(alignContentBetween$|async)"

  [class.overflow-hidden]="(overflowHidden$|async)"
  [class.overflow-x-hidden]="(overflowXHidden$|async)"

  [class.overflow-auto]="(overflowAuto$|async)"
  [class.overflow-x-auto]="(overflowXAuto$|async)"

  [class.overflow-scroll]="(overflowScroll$|async)"
  [class.overflow-x-scroll]="(overflowXScroll$|async)"

  [class.displayNone]="!(visible$ | async) && !(holdSpace$ | async)"
  [class.visibilityHidden]="!(visible$ | async) && (holdSpace$ | async)"

  [style.height]="height$ | async"
  [style.width]="width$ | async"

  [class.bg-primary]="backgroundColorPrimary$ | async"
  [class.bg-white]="backgroundColorWhite$ | async"
  [class.bg-orange-400]="backgroundColorDanger$ | async"
  [class.calcHeight]="setCalculatedHeight(calcHeight$|async)"
  [class.calcWidth]="setCalculatedWidth(calcWidth$|async)"
#container>
  <ng-container *ngFor="let child of children$|async">
    <div
      *ngIf="(dataAttribute && !dataAttribute.floatLabel)||child.type !== componentType.Label||(child.type === componentType.Label &&
      !dataAttribute
      )"
      [class.visibilityHidden]="
      (child.type !== componentType.Container) &&
      !(bindToStateProperty(child.name,'visible') | async)
      && (bindToStateProperty(child.name,'holdSpace') | async) "

      [class.displayNone]="(child.type !== componentType.Container)
      &&!(bindToStateProperty(child.name,'visible') | async)
      && !(bindToStateProperty(child.name,'holdSpace') | async)"

      [style.height]="(child.type !== componentType.Container) ? (bindToStateProperty(child.name,'height') | async) : ''"
      [style.width]="(child.type !== componentType.Container) ? (bindToStateProperty(child.name,'width') | async) : ''"

      [class.align-self-stretch]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'alignSelfStretch')|async)"
      [class.overflow-hidden]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'overflowHidden')|async)"
      [class.overflow-x-hidden]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'overflowXHidden')|async)"

      [class.overflow-auto]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'overflowAuto')|async)"
      [class.overflow-x-auto]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'overflowXAuto')|async)"

      [class.overflow-scroll]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'overflowScroll')|async)"
      [class.overflow-x-scroll]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'overflowXScroll')|async)"
      [class]="[
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
         [ngSwitch]="child.type">
      <m-block       [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                     [style.height]="'100%'"
                     [style.width]="'100%'"
               *ngSwitchCase="componentType.Block"
               [name]="child.name"></m-block>
      <m-formcontrol       [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                           [style.height]="'100%'"
                           [style.width]="'100%'"
                     *ngSwitchCase="componentType.FormControl"
                     [name]="child.name"></m-formcontrol>
      <ng-container *ngSwitchCase="componentType.Label">
        <m-label *ngIf="dataAttribute && !dataAttribute.floatLabel" [text]="(dataAttribute.label !== NoValueType.DBI)
        && (dataAttribute.label !== NoValueType.NA) ? dataAttribute.label : dataAttribute.name"
                 [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                 [style.height]="'100%'"
                 [style.width]="'100%'"
        ></m-label>
      </ng-container>
      <ng-container *ngSwitchCase="componentType.InputText">
        <m-input-text *ngIf="dataAttribute && nameFormControl && dataAttribute.text"
                      [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                      [style.height]="'100%'"
                      [style.width]="'100%'"
                       [name]="nameFormControl"
                       [value]="dataAttribute.text.value === NoValueType.NVY
                       || dataAttribute.text.value === NoValueType.NA  ? undefined : dataAttribute.text.value"
                       [icon]="dataAttribute.text.icon"
                       [iconPosition]="dataAttribute.text.iconPosition"
                       [advisoryText]="dataAttribute.advisoryText"
                       [keyFilter]="
                      dataAttribute.text.only === RestrictionType.Alphanumeric ? 'alphanum' :
                      dataAttribute.text.only === RestrictionType.Hex ? 'hex' :
                      dataAttribute.text.only === RestrictionType.Alphabetic ? 'alpha' :
                      dataAttribute.text.only === RestrictionType.Integer ? 'int' :
                      dataAttribute.text.only === RestrictionType.Money ? 'money' :
                      dataAttribute.text.only === RestrictionType.Number ? 'number' :
                      dataAttribute.text.only === RestrictionType.Custom ? (dataAttribute.text['customRestriction'] !== RestrictionType.NA ?
                      dataAttribute.text.customRestriction : undefined) : undefined"
                       [label]="dataAttribute.label"
                       [floatLabel]="dataAttribute.floatLabel"
                       [dirty]="false"
                       [invalid]="false"
                       [small]="dataAttribute.text.inputFontSize===InputFontSize.Small"
                       [large]="dataAttribute.text.inputFontSize===InputFontSize.Large"
                       [disabled]="dataAttribute.disabled"
        ></m-input-text>
      </ng-container>
      <ng-container *ngSwitchCase="componentType.InputNumber">
        <m-input-number
          *ngIf="dataAttribute && nameFormControl && dataAttribute.number"
          [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
          [style.height]="'100%'"
          [style.width]="'100%'"
          [name]="nameFormControl"
          [value]="dataAttribute.number.value === NoValueType.NVY || dataAttribute.number.value === NoValueType.NA ? undefined : dataAttribute.number.value"
          [advisoryText]="dataAttribute.advisoryText"
          [label]="dataAttribute.label"
          [floatLabel]="dataAttribute.floatLabel"
          [dirty]="false"
          [invalid]="false"
          [disabled]="dataAttribute.disabled"
          [useGrouping]="dataAttribute.number.useGrouping"
          [mode]="dataAttribute.number.mode"
          [suffix]="dataAttribute.number.suffix"
          [prefix]="dataAttribute.number.prefix"
          [locale]="dataAttribute.number.locale"
          [currency]="dataAttribute.number.currency"
          [currencyDisplay]="dataAttribute.number.currencyDisplay"
          [minFractionDigits]="dataAttribute.number.minFractionDigits"
          [maxFractionDigits]="dataAttribute.number.maxFractionDigits"
          [min]="dataAttribute.number.min"
          [max]="dataAttribute.number.max"
          [showButtons]="dataAttribute.number.showButtons"
          [step]="dataAttribute.number.step"
          [incrementButtonIcon]="dataAttribute.number.incrementButtonIcon"
          [decrementButtonIcon]="dataAttribute.number.decrementButtonIcon"
          [decrementButtonClass]="dataAttribute.number.decrementButtonClass"
          [incrementButtonClass]="dataAttribute.number.incrementButtonClass"
          [buttonLayout]="dataAttribute.number.buttonLayout"
        ></m-input-number>
      </ng-container>
      <ng-container *ngSwitchCase="componentType.DateInput">
        <m-date *ngIf="dataAttribute && dataLink"  [name]="dataLink.join('_')"
                [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                [style.height]="'100%'"
                [style.width]="'100%'"
        ></m-date>
      </ng-container>
      <ng-container *ngSwitchCase="componentType.RadioButton">
        <m-radio *ngIf="dataAttribute && dataLink && dataAttribute.radio"  [name]="dataLink.join('_')"
                 [values]="dataAttribute.radio.values"
                 [conceptName]="dataAttribute.radio.conceptName"
                [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                [style.height]="'100%'"
                [style.width]="'100%'"
        ></m-radio>
      </ng-container>
      <m-button       [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                      [style.height]="'100%'"
                      [style.width]="'100%'"
                     *ngSwitchCase="componentType.Button"
                     [name]="child.name"></m-button>
      <m-image          [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                        [style.height]="'100%'"
                        [style.width]="'100%'"
                       *ngSwitchCase="componentType.Image"
                       [name]="child.name"></m-image>
      <m-image2         [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                        [style.height]="'100%'"
                        [style.width]="'100%'"
                        *ngSwitchCase="componentType.Image2"
                        [name]="child.name"></m-image2>
      <m-menubar          [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                          [style.height]="'100%'"
                          [style.width]="'100%'"
                        *ngSwitchCase="componentType.Menubar"
                        [name]="child.name"></m-menubar>
      <m-logo          [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                       [style.height]="'100%'"
                       [style.width]="'100%'"
              *ngSwitchCase="componentType.Logo"
              [name]="child.name"></m-logo>
      <m-form          [class]="['flex',
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                       [style.height]="'100%'"
                       [style.width]="'100%'"
                       *ngSwitchCase="componentType.Form"
                       [name]="child.name"></m-form>
        <m-container *ngSwitchCase="componentType.Container" [name]="child.name"  [class]="[
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                     [style.height]="'100%'"
                     [style.width]="'100%'"
        ></m-container>
    </div>
  </ng-container>
</div>
