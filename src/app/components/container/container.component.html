<!-- todo zet flex enkel op wanneer er sprake is van child layout anders niet!!!!!-->
<!-- todo laat dus ook no-flex implementaties toe die ook mogelijkheiden extra bieden , men moet
          vooral weten dat deze componenten ook los gebruikt kunnen worden, HOEWEL binnen Mouldit is dat eigenlijk nooit het geval!!!,
          hoewel nee dan ga je meer constainer moeten aanmaken wat stoem is dus in een tweede fase zeker doen!

          todo ZONIET moet er een constraint komen die childLayout verplicht maakt voor een container!!!!
                De bedoeling is immers dat een container niet gebruikt wordt als er geen children in moeten komen
                // die constraint is nu lastig omdat dit niet op component niveau gedicteerd wordt
          -->
<div
  [class.flex]="(visible$ | async)"
  [class.flex-row]="(row$|async)"
  [class.flex-column]="(column$|async)"
  [class.flex-wrap]="(wrap$|async)"
  [class.justify-content-start]="(justifyContentStart$|async)"
  [class.justify-content-center]="(justifyContentCenter$|async)"
  [class.justify-content-end]="(justifyContentEnd$|async)"
  [class.justify-content-evenly]="(justifyContentEvenly$|async)"
  [class.justify-content-around]="(justifyContentAround$|async)"
  [class.justify-content-between]="(justifyContentBetween$|async)"
  [class.align-items-start]="(alignItemsStart$|async)"
  [class.align-items-center]="(alignItemsCenter$|async)"
  [class.align-items-end]="(alignItemsEnd$|async)"
  [class.align-items-stretch]="(alignItemsStretch$|async)"
  [class.align-content-start]="(alignContentStart$|async)"
  [class.align-content-center]="(alignContentCenter$|async)"
  [class.align-content-end]="(alignContentEnd$|async)"
  [class.align-content-evenly]="(alignContentEvenly$|async)"
  [class.align-content-around]="(alignContentAround$|async)"
  [class.align-content-between]="(alignContentBetween$|async)"

  [class.overflow-hidden]="(overflowHidden$|async)"
  [class.overflow-x-hidden]="(overflowXHidden$|async)"

  [class.overflow-auto]="(overflowAuto$|async)"
  [class.overflow-auto-x]="(overflowXAuto$|async)"

  [class.overflow-scroll]="(overflowScroll$|async)"
  [class.overflow-x-scroll]="(overflowXScroll$|async)"

  [class.displayNone]="!(visible$ | async) && !(holdSpace$ | async)"
  [class.visibilityHidden]="!(visible$ | async) && (holdSpace$ | async)"
  [style.height]="height$ | async"
  [style.width]="width$ | async"
  [class.bg-primary]="backgroundColorPrimary$ | async"
  [class.bg-white]="backgroundColorWhite$ | async"
  [class.bg-orange-400]="backgroundColorDanger$ | async"
  [class.calcHeight]="setCalculatedHeight(calcHeight$|async)"
  [class.calcWidth]="setCalculatedWidth(calcWidth$|async)"
  [style]="{'border':'2px solid blue'}"
#container>
  <!-- todo gebruik een functie voor [class] -->
  <ng-container *ngFor="let child of children$|async">
    <div
      [class.visibilityHidden]="
      (child.type !== componentType.Container) &&
      !(bindToStateProperty(child.name,'visible') | async)
      && (bindToStateProperty(child.name,'holdSpace') | async) "
      [class.displayNone]="(child.type !== componentType.Container)
      &&!(bindToStateProperty(child.name,'visible') | async)
      && !(bindToStateProperty(child.name,'holdSpace') | async)"
      [style.height]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'height') | async)"
      [style.width]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'width') | async)"
      [class.align-self-stretch]="(child.type !== componentType.Container) && (bindToStateProperty(child.name,'alignSelfStretch')|async)"
      [class]="[
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
         [ngSwitch]="child.type" [style]="{'border':'2px solid red'}">
      <m-block       [class]="[
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
               *ngSwitchCase="componentType.Block"
               [name]="child.name"></m-block>
      <m-image          [class]="[
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                       *ngSwitchCase="componentType.Image"
                       [name]="child.name"></m-image>
      <m-menubar          [class]="[
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
                        *ngSwitchCase="componentType.Menubar"
                        [name]="child.name"></m-menubar>
      <m-logo          [class]="[
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"
              *ngSwitchCase="componentType.Logo"
              [name]="child.name"></m-logo>
        <m-container *ngSwitchCase="componentType.Container" [name]="child.name"  [class]="[
         'flex-shrink-'+((getShrinkVal(child.name)|async) === undefined? 0 : (getShrinkVal(child.name)|async)),
         'flex-grow-'+((getGrowVal(child.name)|async)=== undefined ? 0 : ((getGrowVal(child.name)|async)))]"></m-container>
    </div>
  </ng-container>
</div>
